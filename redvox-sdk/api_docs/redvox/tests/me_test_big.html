<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>redvox.tests.me_test_big API documentation</title>
<meta name="description" content="Data set available at: https://drive.google.com/file/d/14YjOjS3Tvm8I3M84KIPxgCzsVDbUMwoM/view?usp=sharing …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>redvox.tests.me_test_big</code></h1>
</header>
<section id="section-intro">
<p>Data set available at: <a href="https://drive.google.com/file/d/14YjOjS3Tvm8I3M84KIPxgCzsVDbUMwoM/view?usp=sharing">https://drive.google.com/file/d/14YjOjS3Tvm8I3M84KIPxgCzsVDbUMwoM/view?usp=sharing</a></p>
<p>This replicates some of the crucial steps in building a report. Namely:</p>
<ol>
<li>Building a DataWindow</li>
<li>Serializing a DataWindow</li>
<li>Summarizing a DataWindow</li>
<li>Converting a DataWindow into a DataFrame</li>
<li>Building audio wiggles</li>
</ol>
<p>Watch timing and memory usage. Feel free to comment out certain stations or entire steps to test individual parts of the
report building process. With the latest non-beta version of the SDK, I generally notice that the building of the DF
takes significantly more memory than the building of the DW.</p>
<p>"main" is probably the only function you need to edit. Everything above it is supporting code for building the summary.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Data set available at: https://drive.google.com/file/d/14YjOjS3Tvm8I3M84KIPxgCzsVDbUMwoM/view?usp=sharing

This replicates some of the crucial steps in building a report. Namely:

1. Building a DataWindow
2. Serializing a DataWindow
3. Summarizing a DataWindow
4. Converting a DataWindow into a DataFrame
5. Building audio wiggles

Watch timing and memory usage. Feel free to comment out certain stations or entire steps to test individual parts of the
report building process. With the latest non-beta version of the SDK, I generally notice that the building of the DF
takes significantly more memory than the building of the DW.

&#34;main&#34; is probably the only function you need to edit. Everything above it is supporting code for building the summary.
&#34;&#34;&#34;

import argparse
import datetime
import enum
import math
import os.path
from dataclasses import dataclass
from pathlib import Path
from typing import List, Optional, Tuple

import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
from redpandas.redpd_df import redpd_dataframe
from redpandas.redpd_plot.wiggles import plot_wiggles_pandas
from redvox.api1000.wrapped_redvox_packet.sensors.location import LocationProvider
from redvox.api1000.wrapped_redvox_packet.station_information import (
    CellServiceState,
    NetworkType,
    OsType,
    PowerState,
)
from redvox.common.data_window import DataWindow, DataWindowConfig
from redvox.common.sensor_data import SensorData
from redvox.common.sensor_reader_utils import Sensor
from redvox.common.station import Station


@dataclass
class TimeRange:
    start_ts_us: float
    end_ts_us: float

    def timedelta(self) -&gt; datetime.timedelta:
        return datetime.timedelta(microseconds=(self.end_ts_us - self.start_ts_us))

    def diff(self, other: &#34;TimeRange&#34;) -&gt; datetime.timedelta:
        return self.timedelta() - other.timedelta()


@dataclass
class SensorSummary:
    sensor_type: str
    sensor_name: str
    n_samples: int
    n_nan_samples: int
    sample_rate: float


@dataclass
class Location:
    latitude: float
    longitude: float
    altitude: float


@dataclass
class LocationSummary:
    name: str
    provider: str
    location: Location
    latitude_standard_deviation: float
    longitude_standard_deviation: float
    altitude_standard_deviation: float


@dataclass
class HealthSummary:
    timestamps: List[float]
    battery_charge_remaining: List[float]
    battery_current_strength: List[float]
    internal_temp_c: List[float]
    network_type: List[str]
    network_strength: List[float]
    power_state: List[str]
    avail_ram: List[float]
    avail_disk: List[float]
    cell_service: List[str]


@dataclass
class StationSummary:
    time_range: TimeRange
    time_corrected: bool
    best_offset: float
    best_latency: float
    gaps: List[TimeRange]
    station_id: str
    station_uuid: str
    location: Optional[LocationSummary]
    sensors: List[SensorSummary]
    percent_data_available: float
    health: Optional[HealthSummary]
    os: str
    os_version: str
    client_version: str


@dataclass
class DataWindowSummary:
    time_range: TimeRange
    station_summaries: List[StationSummary]

    @staticmethod
    def from_data_window(data_window: DataWindow) -&gt; &#34;DataWindowSummary&#34;:
        return from_data_window(data_window)


def ts_us(dt: datetime.datetime) -&gt; float:
    return dt.timestamp() * 1_000_000.0


def n_nans(sensor: Sensor) -&gt; int:
    return np.count_nonzero(np.isnan(sensor.samples()))


POTENTIAL_SENSORS: List[str] = [
    &#34;accelerometer&#34;,
    &#34;ambient_temperature&#34;,
    &#34;audio&#34;,
    &#34;barometer&#34;,
    &#34;best_location&#34;,
    &#34;compressed_audio&#34;,
    &#34;gravity&#34;,
    &#34;gyroscope&#34;,
    # &#34;health&#34;,
    &#34;image&#34;,
    &#34;infrared&#34;,
    &#34;light&#34;,
    &#34;linear_acceleration&#34;,
    &#34;location&#34;,
    &#34;magnetometer&#34;,
    &#34;orientation&#34;,
    &#34;pressure&#34;,
    &#34;proximity&#34;,
    &#34;relative_humidity&#34;,
    &#34;rotation_vector&#34;,
]


def summarize_sensors(station: Station) -&gt; List[SensorSummary]:
    sensor_summaries: List[SensorSummary] = []

    potential_sensor: str
    for potential_sensor in POTENTIAL_SENSORS:
        if getattr(station, f&#34;has_{potential_sensor}_sensor&#34;)():
            sensor: SensorData = getattr(station, f&#34;{potential_sensor}_sensor&#34;)()
            sensor_summaries.append(
                SensorSummary(
                    potential_sensor,
                    sensor.name,
                    sensor.num_samples(),
                    n_nans(sensor),
                    sensor.sample_rate_hz(),
                )
            )

    return sensor_summaries


def from_data_window(data_window: DataWindow) -&gt; DataWindowSummary:
    time_range: TimeRange = TimeRange(
        ts_us(data_window.config().start_datetime), ts_us(data_window.config().end_datetime)
    )
    station_summaries: List[StationSummary] = []

    station_id: str
    for station_id in data_window.station_ids():
        stations: Optional[List[Station]] = data_window.get_station(station_id)
        if stations is not None:
            station: Station
            for station in stations:
                station_summary: StationSummary = StationSummary(
                    TimeRange(station.first_data_timestamp(), station.last_data_timestamp()),
                    station.is_timestamps_updated(),
                    station.timesync_data().best_offset(),
                    station.timesync_data().best_latency(),
                    extract_gaps(station),
                    station.id(),
                    station.uuid(),
                    extract_location_summary(station),
                    summarize_sensors(station),
                    percent_data_available(station),
                    extract_health_summary(station),
                    OsType(station.metadata().os).name,
                    station.metadata().os_version,
                    station.metadata().app_version,
                )
                station_summaries.append(station_summary)
    data_window_summary: DataWindowSummary = DataWindowSummary(time_range, station_summaries)
    return data_window_summary


def extract_gaps(station: Station) -&gt; List[TimeRange]:
    # noinspection PyProtectedMember
    gaps: List[Tuple[float, float]] = station._gaps
    return list(map(lambda tup2: TimeRange(tup2[0], tup2[1]), gaps))


LOCATION_PROVIDER_IDX: int = 10
LATITUDE_IDX: int = 1
LONGITUDE_IDX: int = 2
ALTITUDE_IDX: int = 3
HORIZONTAL_ACCURACY_IDX: int = 6
VERTICAL_ACCURACY_IDX: int = 7


def extract_location_summary(station: Station) -&gt; Optional[LocationSummary]:
    sensor_data: Optional[SensorData]
    if station.has_best_location_data():
        sensor_data = station.best_location_sensor()
    elif station.has_location_data():
        sensor_data = station.location_sensor()
    else:
        sensor_data = None

    if sensor_data is not None:
        if sensor_data.num_samples() == 0:
            return None

        samples: np.ndarray = sensor_data.samples()

        if sensor_data.num_samples() == 1:
            return LocationSummary(
                sensor_data.name,
                LocationProvider(int(samples[LOCATION_PROVIDER_IDX][0])).name,
                Location(
                    samples[LATITUDE_IDX][0],
                    samples[LONGITUDE_IDX][0],
                    samples[ALTITUDE_IDX][0],
                ),
                0.0,
                0.0,
                0.0,
            )

        # Find the location with the &#34;best&#34; (lowest combined error) accuracy
        def orz(f: float) -&gt; float:
            if math.isnan(f):
                return 0.0
            return f

        def lowest_error_idx() -&gt; Optional[int]:
            hori_acc_samples: np.ndarray = samples[HORIZONTAL_ACCURACY_IDX]
            vert_acc_samples: np.ndarray = samples[VERTICAL_ACCURACY_IDX]
            min_acc: float = float(&#34;+inf&#34;)
            min_acc_idx: Optional[int] = None

            min_len: int = min(len(hori_acc_samples), len(vert_acc_samples))
            for j in range(min_len):
                hori: float = hori_acc_samples[j]
                vert: float = vert_acc_samples[j]
                if math.isnan(hori) and math.isnan(vert):
                    continue

                if hori == 0.0 and vert == 0.0:
                    continue

                acc: float = orz(hori) + orz(vert)
                if acc &lt; min_acc:
                    min_acc = acc
                    min_acc_idx = j

            return min_acc_idx

        def first_valid_lat_lng() -&gt; Optional[LocationSummary]:
            lat_samples: np.ndarray = samples[LATITUDE_IDX]
            lng_samples: np.ndarray = samples[LONGITUDE_IDX]

            min_len: int = min(len(lat_samples), len(lng_samples))

            for j in range(min_len):
                lat: float = lat_samples[j]
                lng: float = lng_samples[j]
                if (not math.isnan(lat)) and (not math.isnan(lng)):
                    return LocationSummary(
                        sensor_data.name if sensor_data is not None else &#34;n/a&#34;,
                        LocationProvider(int(samples[LOCATION_PROVIDER_IDX][j])).name,
                        Location(lat, lng, 0.0),
                        samples[LATITUDE_IDX].std(),
                        samples[LONGITUDE_IDX].std(),
                        samples[ALTITUDE_IDX].std(),
                    )

            return None

        best_idx: Optional[int] = lowest_error_idx()
        if best_idx is not None:
            return LocationSummary(
                sensor_data.name,
                LocationProvider(int(samples[LOCATION_PROVIDER_IDX][best_idx])).name,
                Location(samples[LATITUDE_IDX][best_idx], samples[LONGITUDE_IDX][best_idx], 0.0),
                samples[LATITUDE_IDX].std(),
                samples[LONGITUDE_IDX].std(),
                samples[ALTITUDE_IDX].std(),
            )

        else:
            # Try to get any available location
            return first_valid_lat_lng()

    return None


def percent_data_available(station: Station) -&gt; float:
    audio: SensorData = station.audio_sensor()
    total_nans: int = n_nans(audio)
    total_samples: int = audio.num_samples()
    return 100.0 - (total_nans / total_samples * 100.0)


def extract_enum_name(enum_type, value) -&gt; str:
    if isinstance(value, enum.Enum):
        return value.name

    if isinstance(value, (int, float)):
        return enum_type(int(value)).name

    return &#34;n/a&#34;


def extract_health_summary(station: Station) -&gt; Optional[HealthSummary]:
    if station.has_health_data():
        sensor_data: SensorData = station.health_sensor()
        samples: np.ndarray = sensor_data.samples()
        health_summary: HealthSummary = HealthSummary(
            list(sensor_data.data_timestamps()),
            list(samples[0]),
            list(samples[1]),
            list(samples[2]),
            list(
                map(
                    lambda network_type: extract_enum_name(NetworkType, network_type),
                    list(samples[3]),
                )
            ),
            list(samples[4]),
            list(
                map(
                    lambda power_state: extract_enum_name(PowerState, power_state),
                    list(samples[5]),
                )
            ),
            list(samples[6]),
            list(samples[7]),
            list(
                map(
                    lambda cell_service: extract_enum_name(CellServiceState, cell_service),
                    list(samples[8]),
                )
            ),
        )
        return health_summary

    return None


def main(input_dir: str, output_dir: str) -&gt; None:
    available_stations: List[str] = [
        # &#34;1637620004&#34;,
        &#34;1637620005&#34;,
        # &#34;1637621008&#34;,
        # &#34;1637621009&#34;
    ]

    # Build DW
    print(&#34;Building data window...&#34;, end=&#34;&#34;)
    start: datetime = datetime.datetime.now()
    data_window: DataWindow = DataWindow(
        config=DataWindowConfig(input_dir=input_dir, station_ids=available_stations),
        output_dir=output_dir,
        out_type=&#34;LZ4&#34;,
    )
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Serialize DW
    print(&#34;Serializing data window...&#34;, end=&#34;&#34;)
    start = datetime.datetime.now()
    serialized_data_window_path: Path = data_window.serialize()
    print(f&#34;Done. {serialized_data_window_path} ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Summarize DW
    print(&#34;Summarizing data window...&#34;, end=&#34;&#34;)
    start = datetime.datetime.now()
    data_window_summary: DataWindowSummary = DataWindowSummary.from_data_window(data_window)
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Build DF
    print(&#34;Building data frame...&#34;, end=&#34;&#34;)
    start = datetime.datetime.now()
    data_frame: pd.DataFrame = redpd_dataframe(data_window, [&#34;audio&#34;])
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Build wiggles
    print(&#34;Building audio wiggles...&#34;, end=&#34;&#34;)
    fig: plt.Figure = plot_wiggles_pandas(data_frame, show_figure=False)
    fig.savefig(os.path.join(output_dir, &#34;audio_wiggles.png&#34;))
    fig.clf()
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)


if __name__ == &#34;__main__&#34;:
    parser = argparse.ArgumentParser()
    parser.add_argument(&#34;input_dir&#34;)
    parser.add_argument(&#34;--output_dir&#34;, required=False)
    args = parser.parse_args()

    if args.output_dir is None:
        args.output_dir = args.input_dir

    main(args.input_dir, args.output_dir)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="redvox.tests.me_test_big.extract_enum_name"><code class="name flex">
<span>def <span class="ident">extract_enum_name</span></span>(<span>enum_type, value) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def extract_enum_name(enum_type, value) -&gt; str:
    if isinstance(value, enum.Enum):
        return value.name

    if isinstance(value, (int, float)):
        return enum_type(int(value)).name

    return &#34;n/a&#34;</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.extract_gaps"><code class="name flex">
<span>def <span class="ident">extract_gaps</span></span>(<span>station: <a title="redvox.common.station.Station" href="../common/station.html#redvox.common.station.Station">Station</a>) ‑> List[<a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def extract_gaps(station: Station) -&gt; List[TimeRange]:
    # noinspection PyProtectedMember
    gaps: List[Tuple[float, float]] = station._gaps
    return list(map(lambda tup2: TimeRange(tup2[0], tup2[1]), gaps))</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.extract_health_summary"><code class="name flex">
<span>def <span class="ident">extract_health_summary</span></span>(<span>station: <a title="redvox.common.station.Station" href="../common/station.html#redvox.common.station.Station">Station</a>) ‑> Optional[<a title="redvox.tests.me_test_big.HealthSummary" href="#redvox.tests.me_test_big.HealthSummary">HealthSummary</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def extract_health_summary(station: Station) -&gt; Optional[HealthSummary]:
    if station.has_health_data():
        sensor_data: SensorData = station.health_sensor()
        samples: np.ndarray = sensor_data.samples()
        health_summary: HealthSummary = HealthSummary(
            list(sensor_data.data_timestamps()),
            list(samples[0]),
            list(samples[1]),
            list(samples[2]),
            list(
                map(
                    lambda network_type: extract_enum_name(NetworkType, network_type),
                    list(samples[3]),
                )
            ),
            list(samples[4]),
            list(
                map(
                    lambda power_state: extract_enum_name(PowerState, power_state),
                    list(samples[5]),
                )
            ),
            list(samples[6]),
            list(samples[7]),
            list(
                map(
                    lambda cell_service: extract_enum_name(CellServiceState, cell_service),
                    list(samples[8]),
                )
            ),
        )
        return health_summary

    return None</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.extract_location_summary"><code class="name flex">
<span>def <span class="ident">extract_location_summary</span></span>(<span>station: <a title="redvox.common.station.Station" href="../common/station.html#redvox.common.station.Station">Station</a>) ‑> Optional[<a title="redvox.tests.me_test_big.LocationSummary" href="#redvox.tests.me_test_big.LocationSummary">LocationSummary</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def extract_location_summary(station: Station) -&gt; Optional[LocationSummary]:
    sensor_data: Optional[SensorData]
    if station.has_best_location_data():
        sensor_data = station.best_location_sensor()
    elif station.has_location_data():
        sensor_data = station.location_sensor()
    else:
        sensor_data = None

    if sensor_data is not None:
        if sensor_data.num_samples() == 0:
            return None

        samples: np.ndarray = sensor_data.samples()

        if sensor_data.num_samples() == 1:
            return LocationSummary(
                sensor_data.name,
                LocationProvider(int(samples[LOCATION_PROVIDER_IDX][0])).name,
                Location(
                    samples[LATITUDE_IDX][0],
                    samples[LONGITUDE_IDX][0],
                    samples[ALTITUDE_IDX][0],
                ),
                0.0,
                0.0,
                0.0,
            )

        # Find the location with the &#34;best&#34; (lowest combined error) accuracy
        def orz(f: float) -&gt; float:
            if math.isnan(f):
                return 0.0
            return f

        def lowest_error_idx() -&gt; Optional[int]:
            hori_acc_samples: np.ndarray = samples[HORIZONTAL_ACCURACY_IDX]
            vert_acc_samples: np.ndarray = samples[VERTICAL_ACCURACY_IDX]
            min_acc: float = float(&#34;+inf&#34;)
            min_acc_idx: Optional[int] = None

            min_len: int = min(len(hori_acc_samples), len(vert_acc_samples))
            for j in range(min_len):
                hori: float = hori_acc_samples[j]
                vert: float = vert_acc_samples[j]
                if math.isnan(hori) and math.isnan(vert):
                    continue

                if hori == 0.0 and vert == 0.0:
                    continue

                acc: float = orz(hori) + orz(vert)
                if acc &lt; min_acc:
                    min_acc = acc
                    min_acc_idx = j

            return min_acc_idx

        def first_valid_lat_lng() -&gt; Optional[LocationSummary]:
            lat_samples: np.ndarray = samples[LATITUDE_IDX]
            lng_samples: np.ndarray = samples[LONGITUDE_IDX]

            min_len: int = min(len(lat_samples), len(lng_samples))

            for j in range(min_len):
                lat: float = lat_samples[j]
                lng: float = lng_samples[j]
                if (not math.isnan(lat)) and (not math.isnan(lng)):
                    return LocationSummary(
                        sensor_data.name if sensor_data is not None else &#34;n/a&#34;,
                        LocationProvider(int(samples[LOCATION_PROVIDER_IDX][j])).name,
                        Location(lat, lng, 0.0),
                        samples[LATITUDE_IDX].std(),
                        samples[LONGITUDE_IDX].std(),
                        samples[ALTITUDE_IDX].std(),
                    )

            return None

        best_idx: Optional[int] = lowest_error_idx()
        if best_idx is not None:
            return LocationSummary(
                sensor_data.name,
                LocationProvider(int(samples[LOCATION_PROVIDER_IDX][best_idx])).name,
                Location(samples[LATITUDE_IDX][best_idx], samples[LONGITUDE_IDX][best_idx], 0.0),
                samples[LATITUDE_IDX].std(),
                samples[LONGITUDE_IDX].std(),
                samples[ALTITUDE_IDX].std(),
            )

        else:
            # Try to get any available location
            return first_valid_lat_lng()

    return None</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.from_data_window"><code class="name flex">
<span>def <span class="ident">from_data_window</span></span>(<span>data_window: <a title="redvox.common.data_window.DataWindow" href="../common/data_window.html#redvox.common.data_window.DataWindow">DataWindow</a>) ‑> <a title="redvox.tests.me_test_big.DataWindowSummary" href="#redvox.tests.me_test_big.DataWindowSummary">DataWindowSummary</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def from_data_window(data_window: DataWindow) -&gt; DataWindowSummary:
    time_range: TimeRange = TimeRange(
        ts_us(data_window.config().start_datetime), ts_us(data_window.config().end_datetime)
    )
    station_summaries: List[StationSummary] = []

    station_id: str
    for station_id in data_window.station_ids():
        stations: Optional[List[Station]] = data_window.get_station(station_id)
        if stations is not None:
            station: Station
            for station in stations:
                station_summary: StationSummary = StationSummary(
                    TimeRange(station.first_data_timestamp(), station.last_data_timestamp()),
                    station.is_timestamps_updated(),
                    station.timesync_data().best_offset(),
                    station.timesync_data().best_latency(),
                    extract_gaps(station),
                    station.id(),
                    station.uuid(),
                    extract_location_summary(station),
                    summarize_sensors(station),
                    percent_data_available(station),
                    extract_health_summary(station),
                    OsType(station.metadata().os).name,
                    station.metadata().os_version,
                    station.metadata().app_version,
                )
                station_summaries.append(station_summary)
    data_window_summary: DataWindowSummary = DataWindowSummary(time_range, station_summaries)
    return data_window_summary</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>input_dir: str, output_dir: str) ‑> None</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main(input_dir: str, output_dir: str) -&gt; None:
    available_stations: List[str] = [
        # &#34;1637620004&#34;,
        &#34;1637620005&#34;,
        # &#34;1637621008&#34;,
        # &#34;1637621009&#34;
    ]

    # Build DW
    print(&#34;Building data window...&#34;, end=&#34;&#34;)
    start: datetime = datetime.datetime.now()
    data_window: DataWindow = DataWindow(
        config=DataWindowConfig(input_dir=input_dir, station_ids=available_stations),
        output_dir=output_dir,
        out_type=&#34;LZ4&#34;,
    )
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Serialize DW
    print(&#34;Serializing data window...&#34;, end=&#34;&#34;)
    start = datetime.datetime.now()
    serialized_data_window_path: Path = data_window.serialize()
    print(f&#34;Done. {serialized_data_window_path} ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Summarize DW
    print(&#34;Summarizing data window...&#34;, end=&#34;&#34;)
    start = datetime.datetime.now()
    data_window_summary: DataWindowSummary = DataWindowSummary.from_data_window(data_window)
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Build DF
    print(&#34;Building data frame...&#34;, end=&#34;&#34;)
    start = datetime.datetime.now()
    data_frame: pd.DataFrame = redpd_dataframe(data_window, [&#34;audio&#34;])
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)

    # Build wiggles
    print(&#34;Building audio wiggles...&#34;, end=&#34;&#34;)
    fig: plt.Figure = plot_wiggles_pandas(data_frame, show_figure=False)
    fig.savefig(os.path.join(output_dir, &#34;audio_wiggles.png&#34;))
    fig.clf()
    print(f&#34;Done. ({(datetime.datetime.now() - start).total_seconds()}s)&#34;)</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.n_nans"><code class="name flex">
<span>def <span class="ident">n_nans</span></span>(<span>sensor: Union[src.redvox_api_m.redvox_api_m_pb2.Xyz, src.redvox_api_m.redvox_api_m_pb2.Single, src.redvox_api_m.redvox_api_m_pb2.Audio, src.redvox_api_m.redvox_api_m_pb2.Image, src.redvox_api_m.redvox_api_m_pb2.Location, src.redvox_api_m.redvox_api_m_pb2.CompressedAudio]) ‑> int</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def n_nans(sensor: Sensor) -&gt; int:
    return np.count_nonzero(np.isnan(sensor.samples()))</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.percent_data_available"><code class="name flex">
<span>def <span class="ident">percent_data_available</span></span>(<span>station: <a title="redvox.common.station.Station" href="../common/station.html#redvox.common.station.Station">Station</a>) ‑> float</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def percent_data_available(station: Station) -&gt; float:
    audio: SensorData = station.audio_sensor()
    total_nans: int = n_nans(audio)
    total_samples: int = audio.num_samples()
    return 100.0 - (total_nans / total_samples * 100.0)</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.summarize_sensors"><code class="name flex">
<span>def <span class="ident">summarize_sensors</span></span>(<span>station: <a title="redvox.common.station.Station" href="../common/station.html#redvox.common.station.Station">Station</a>) ‑> List[<a title="redvox.tests.me_test_big.SensorSummary" href="#redvox.tests.me_test_big.SensorSummary">SensorSummary</a>]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def summarize_sensors(station: Station) -&gt; List[SensorSummary]:
    sensor_summaries: List[SensorSummary] = []

    potential_sensor: str
    for potential_sensor in POTENTIAL_SENSORS:
        if getattr(station, f&#34;has_{potential_sensor}_sensor&#34;)():
            sensor: SensorData = getattr(station, f&#34;{potential_sensor}_sensor&#34;)()
            sensor_summaries.append(
                SensorSummary(
                    potential_sensor,
                    sensor.name,
                    sensor.num_samples(),
                    n_nans(sensor),
                    sensor.sample_rate_hz(),
                )
            )

    return sensor_summaries</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.ts_us"><code class="name flex">
<span>def <span class="ident">ts_us</span></span>(<span>dt: datetime.datetime) ‑> float</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ts_us(dt: datetime.datetime) -&gt; float:
    return dt.timestamp() * 1_000_000.0</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="redvox.tests.me_test_big.DataWindowSummary"><code class="flex name class">
<span>class <span class="ident">DataWindowSummary</span></span>
<span>(</span><span>time_range: <a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a>, station_summaries: List[<a title="redvox.tests.me_test_big.StationSummary" href="#redvox.tests.me_test_big.StationSummary">StationSummary</a>])</span>
</code></dt>
<dd>
<div class="desc"><p>DataWindowSummary(time_range: redvox.tests.me_test_big.TimeRange, station_summaries: List[redvox.tests.me_test_big.StationSummary])</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class DataWindowSummary:
    time_range: TimeRange
    station_summaries: List[StationSummary]

    @staticmethod
    def from_data_window(data_window: DataWindow) -&gt; &#34;DataWindowSummary&#34;:
        return from_data_window(data_window)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.DataWindowSummary.station_summaries"><code class="name">var <span class="ident">station_summaries</span> : List[<a title="redvox.tests.me_test_big.StationSummary" href="#redvox.tests.me_test_big.StationSummary">StationSummary</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.DataWindowSummary.time_range"><code class="name">var <span class="ident">time_range</span> : <a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="redvox.tests.me_test_big.DataWindowSummary.from_data_window"><code class="name flex">
<span>def <span class="ident">from_data_window</span></span>(<span>data_window: <a title="redvox.common.data_window.DataWindow" href="../common/data_window.html#redvox.common.data_window.DataWindow">DataWindow</a>) ‑> <a title="redvox.tests.me_test_big.DataWindowSummary" href="#redvox.tests.me_test_big.DataWindowSummary">DataWindowSummary</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def from_data_window(data_window: DataWindow) -&gt; &#34;DataWindowSummary&#34;:
    return from_data_window(data_window)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary"><code class="flex name class">
<span>class <span class="ident">HealthSummary</span></span>
<span>(</span><span>timestamps: List[float], battery_charge_remaining: List[float], battery_current_strength: List[float], internal_temp_c: List[float], network_type: List[str], network_strength: List[float], power_state: List[str], avail_ram: List[float], avail_disk: List[float], cell_service: List[str])</span>
</code></dt>
<dd>
<div class="desc"><p>HealthSummary(timestamps: List[float], battery_charge_remaining: List[float], battery_current_strength: List[float], internal_temp_c: List[float], network_type: List[str], network_strength: List[float], power_state: List[str], avail_ram: List[float], avail_disk: List[float], cell_service: List[str])</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class HealthSummary:
    timestamps: List[float]
    battery_charge_remaining: List[float]
    battery_current_strength: List[float]
    internal_temp_c: List[float]
    network_type: List[str]
    network_strength: List[float]
    power_state: List[str]
    avail_ram: List[float]
    avail_disk: List[float]
    cell_service: List[str]</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.HealthSummary.avail_disk"><code class="name">var <span class="ident">avail_disk</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.avail_ram"><code class="name">var <span class="ident">avail_ram</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.battery_charge_remaining"><code class="name">var <span class="ident">battery_charge_remaining</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.battery_current_strength"><code class="name">var <span class="ident">battery_current_strength</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.cell_service"><code class="name">var <span class="ident">cell_service</span> : List[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.internal_temp_c"><code class="name">var <span class="ident">internal_temp_c</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.network_strength"><code class="name">var <span class="ident">network_strength</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.network_type"><code class="name">var <span class="ident">network_type</span> : List[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.power_state"><code class="name">var <span class="ident">power_state</span> : List[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.HealthSummary.timestamps"><code class="name">var <span class="ident">timestamps</span> : List[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="redvox.tests.me_test_big.Location"><code class="flex name class">
<span>class <span class="ident">Location</span></span>
<span>(</span><span>latitude: float, longitude: float, altitude: float)</span>
</code></dt>
<dd>
<div class="desc"><p>Location(latitude: float, longitude: float, altitude: float)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class Location:
    latitude: float
    longitude: float
    altitude: float</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.Location.altitude"><code class="name">var <span class="ident">altitude</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.Location.latitude"><code class="name">var <span class="ident">latitude</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.Location.longitude"><code class="name">var <span class="ident">longitude</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="redvox.tests.me_test_big.LocationSummary"><code class="flex name class">
<span>class <span class="ident">LocationSummary</span></span>
<span>(</span><span>name: str, provider: str, location: <a title="redvox.tests.me_test_big.Location" href="#redvox.tests.me_test_big.Location">Location</a>, latitude_standard_deviation: float, longitude_standard_deviation: float, altitude_standard_deviation: float)</span>
</code></dt>
<dd>
<div class="desc"><p>LocationSummary(name: str, provider: str, location: redvox.tests.me_test_big.Location, latitude_standard_deviation: float, longitude_standard_deviation: float, altitude_standard_deviation: float)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class LocationSummary:
    name: str
    provider: str
    location: Location
    latitude_standard_deviation: float
    longitude_standard_deviation: float
    altitude_standard_deviation: float</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.LocationSummary.altitude_standard_deviation"><code class="name">var <span class="ident">altitude_standard_deviation</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.LocationSummary.latitude_standard_deviation"><code class="name">var <span class="ident">latitude_standard_deviation</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.LocationSummary.location"><code class="name">var <span class="ident">location</span> : <a title="redvox.tests.me_test_big.Location" href="#redvox.tests.me_test_big.Location">Location</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.LocationSummary.longitude_standard_deviation"><code class="name">var <span class="ident">longitude_standard_deviation</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.LocationSummary.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.LocationSummary.provider"><code class="name">var <span class="ident">provider</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="redvox.tests.me_test_big.SensorSummary"><code class="flex name class">
<span>class <span class="ident">SensorSummary</span></span>
<span>(</span><span>sensor_type: str, sensor_name: str, n_samples: int, n_nan_samples: int, sample_rate: float)</span>
</code></dt>
<dd>
<div class="desc"><p>SensorSummary(sensor_type: str, sensor_name: str, n_samples: int, n_nan_samples: int, sample_rate: float)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class SensorSummary:
    sensor_type: str
    sensor_name: str
    n_samples: int
    n_nan_samples: int
    sample_rate: float</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.SensorSummary.n_nan_samples"><code class="name">var <span class="ident">n_nan_samples</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.SensorSummary.n_samples"><code class="name">var <span class="ident">n_samples</span> : int</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.SensorSummary.sample_rate"><code class="name">var <span class="ident">sample_rate</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.SensorSummary.sensor_name"><code class="name">var <span class="ident">sensor_name</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.SensorSummary.sensor_type"><code class="name">var <span class="ident">sensor_type</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary"><code class="flex name class">
<span>class <span class="ident">StationSummary</span></span>
<span>(</span><span>time_range: <a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a>, time_corrected: bool, best_offset: float, best_latency: float, gaps: List[<a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a>], station_id: str, station_uuid: str, location: Optional[<a title="redvox.tests.me_test_big.LocationSummary" href="#redvox.tests.me_test_big.LocationSummary">LocationSummary</a>], sensors: List[<a title="redvox.tests.me_test_big.SensorSummary" href="#redvox.tests.me_test_big.SensorSummary">SensorSummary</a>], percent_data_available: float, health: Optional[<a title="redvox.tests.me_test_big.HealthSummary" href="#redvox.tests.me_test_big.HealthSummary">HealthSummary</a>], os: str, os_version: str, client_version: str)</span>
</code></dt>
<dd>
<div class="desc"><p>StationSummary(time_range: redvox.tests.me_test_big.TimeRange, time_corrected: bool, best_offset: float, best_latency: float, gaps: List[redvox.tests.me_test_big.TimeRange], station_id: str, station_uuid: str, location: Optional[redvox.tests.me_test_big.LocationSummary], sensors: List[redvox.tests.me_test_big.SensorSummary], percent_data_available: float, health: Optional[redvox.tests.me_test_big.HealthSummary], os: str, os_version: str, client_version: str)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class StationSummary:
    time_range: TimeRange
    time_corrected: bool
    best_offset: float
    best_latency: float
    gaps: List[TimeRange]
    station_id: str
    station_uuid: str
    location: Optional[LocationSummary]
    sensors: List[SensorSummary]
    percent_data_available: float
    health: Optional[HealthSummary]
    os: str
    os_version: str
    client_version: str</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.StationSummary.best_latency"><code class="name">var <span class="ident">best_latency</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.best_offset"><code class="name">var <span class="ident">best_offset</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.client_version"><code class="name">var <span class="ident">client_version</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.gaps"><code class="name">var <span class="ident">gaps</span> : List[<a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.health"><code class="name">var <span class="ident">health</span> : Optional[<a title="redvox.tests.me_test_big.HealthSummary" href="#redvox.tests.me_test_big.HealthSummary">HealthSummary</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.location"><code class="name">var <span class="ident">location</span> : Optional[<a title="redvox.tests.me_test_big.LocationSummary" href="#redvox.tests.me_test_big.LocationSummary">LocationSummary</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.os"><code class="name">var <span class="ident">os</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.os_version"><code class="name">var <span class="ident">os_version</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.percent_data_available"><code class="name">var <span class="ident">percent_data_available</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.sensors"><code class="name">var <span class="ident">sensors</span> : List[<a title="redvox.tests.me_test_big.SensorSummary" href="#redvox.tests.me_test_big.SensorSummary">SensorSummary</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.station_id"><code class="name">var <span class="ident">station_id</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.station_uuid"><code class="name">var <span class="ident">station_uuid</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.time_corrected"><code class="name">var <span class="ident">time_corrected</span> : bool</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.StationSummary.time_range"><code class="name">var <span class="ident">time_range</span> : <a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="redvox.tests.me_test_big.TimeRange"><code class="flex name class">
<span>class <span class="ident">TimeRange</span></span>
<span>(</span><span>start_ts_us: float, end_ts_us: float)</span>
</code></dt>
<dd>
<div class="desc"><p>TimeRange(start_ts_us: float, end_ts_us: float)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class TimeRange:
    start_ts_us: float
    end_ts_us: float

    def timedelta(self) -&gt; datetime.timedelta:
        return datetime.timedelta(microseconds=(self.end_ts_us - self.start_ts_us))

    def diff(self, other: &#34;TimeRange&#34;) -&gt; datetime.timedelta:
        return self.timedelta() - other.timedelta()</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="redvox.tests.me_test_big.TimeRange.end_ts_us"><code class="name">var <span class="ident">end_ts_us</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="redvox.tests.me_test_big.TimeRange.start_ts_us"><code class="name">var <span class="ident">start_ts_us</span> : float</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="redvox.tests.me_test_big.TimeRange.diff"><code class="name flex">
<span>def <span class="ident">diff</span></span>(<span>self, other: <a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a>) ‑> datetime.timedelta</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def diff(self, other: &#34;TimeRange&#34;) -&gt; datetime.timedelta:
    return self.timedelta() - other.timedelta()</code></pre>
</details>
</dd>
<dt id="redvox.tests.me_test_big.TimeRange.timedelta"><code class="name flex">
<span>def <span class="ident">timedelta</span></span>(<span>self) ‑> datetime.timedelta</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def timedelta(self) -&gt; datetime.timedelta:
    return datetime.timedelta(microseconds=(self.end_ts_us - self.start_ts_us))</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="redvox.tests" href="index.html">redvox.tests</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.extract_enum_name" href="#redvox.tests.me_test_big.extract_enum_name">extract_enum_name</a></code></li>
<li><code><a title="redvox.tests.me_test_big.extract_gaps" href="#redvox.tests.me_test_big.extract_gaps">extract_gaps</a></code></li>
<li><code><a title="redvox.tests.me_test_big.extract_health_summary" href="#redvox.tests.me_test_big.extract_health_summary">extract_health_summary</a></code></li>
<li><code><a title="redvox.tests.me_test_big.extract_location_summary" href="#redvox.tests.me_test_big.extract_location_summary">extract_location_summary</a></code></li>
<li><code><a title="redvox.tests.me_test_big.from_data_window" href="#redvox.tests.me_test_big.from_data_window">from_data_window</a></code></li>
<li><code><a title="redvox.tests.me_test_big.main" href="#redvox.tests.me_test_big.main">main</a></code></li>
<li><code><a title="redvox.tests.me_test_big.n_nans" href="#redvox.tests.me_test_big.n_nans">n_nans</a></code></li>
<li><code><a title="redvox.tests.me_test_big.percent_data_available" href="#redvox.tests.me_test_big.percent_data_available">percent_data_available</a></code></li>
<li><code><a title="redvox.tests.me_test_big.summarize_sensors" href="#redvox.tests.me_test_big.summarize_sensors">summarize_sensors</a></code></li>
<li><code><a title="redvox.tests.me_test_big.ts_us" href="#redvox.tests.me_test_big.ts_us">ts_us</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="redvox.tests.me_test_big.DataWindowSummary" href="#redvox.tests.me_test_big.DataWindowSummary">DataWindowSummary</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.DataWindowSummary.from_data_window" href="#redvox.tests.me_test_big.DataWindowSummary.from_data_window">from_data_window</a></code></li>
<li><code><a title="redvox.tests.me_test_big.DataWindowSummary.station_summaries" href="#redvox.tests.me_test_big.DataWindowSummary.station_summaries">station_summaries</a></code></li>
<li><code><a title="redvox.tests.me_test_big.DataWindowSummary.time_range" href="#redvox.tests.me_test_big.DataWindowSummary.time_range">time_range</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="redvox.tests.me_test_big.HealthSummary" href="#redvox.tests.me_test_big.HealthSummary">HealthSummary</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.HealthSummary.avail_disk" href="#redvox.tests.me_test_big.HealthSummary.avail_disk">avail_disk</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.avail_ram" href="#redvox.tests.me_test_big.HealthSummary.avail_ram">avail_ram</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.battery_charge_remaining" href="#redvox.tests.me_test_big.HealthSummary.battery_charge_remaining">battery_charge_remaining</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.battery_current_strength" href="#redvox.tests.me_test_big.HealthSummary.battery_current_strength">battery_current_strength</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.cell_service" href="#redvox.tests.me_test_big.HealthSummary.cell_service">cell_service</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.internal_temp_c" href="#redvox.tests.me_test_big.HealthSummary.internal_temp_c">internal_temp_c</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.network_strength" href="#redvox.tests.me_test_big.HealthSummary.network_strength">network_strength</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.network_type" href="#redvox.tests.me_test_big.HealthSummary.network_type">network_type</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.power_state" href="#redvox.tests.me_test_big.HealthSummary.power_state">power_state</a></code></li>
<li><code><a title="redvox.tests.me_test_big.HealthSummary.timestamps" href="#redvox.tests.me_test_big.HealthSummary.timestamps">timestamps</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="redvox.tests.me_test_big.Location" href="#redvox.tests.me_test_big.Location">Location</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.Location.altitude" href="#redvox.tests.me_test_big.Location.altitude">altitude</a></code></li>
<li><code><a title="redvox.tests.me_test_big.Location.latitude" href="#redvox.tests.me_test_big.Location.latitude">latitude</a></code></li>
<li><code><a title="redvox.tests.me_test_big.Location.longitude" href="#redvox.tests.me_test_big.Location.longitude">longitude</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="redvox.tests.me_test_big.LocationSummary" href="#redvox.tests.me_test_big.LocationSummary">LocationSummary</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.LocationSummary.altitude_standard_deviation" href="#redvox.tests.me_test_big.LocationSummary.altitude_standard_deviation">altitude_standard_deviation</a></code></li>
<li><code><a title="redvox.tests.me_test_big.LocationSummary.latitude_standard_deviation" href="#redvox.tests.me_test_big.LocationSummary.latitude_standard_deviation">latitude_standard_deviation</a></code></li>
<li><code><a title="redvox.tests.me_test_big.LocationSummary.location" href="#redvox.tests.me_test_big.LocationSummary.location">location</a></code></li>
<li><code><a title="redvox.tests.me_test_big.LocationSummary.longitude_standard_deviation" href="#redvox.tests.me_test_big.LocationSummary.longitude_standard_deviation">longitude_standard_deviation</a></code></li>
<li><code><a title="redvox.tests.me_test_big.LocationSummary.name" href="#redvox.tests.me_test_big.LocationSummary.name">name</a></code></li>
<li><code><a title="redvox.tests.me_test_big.LocationSummary.provider" href="#redvox.tests.me_test_big.LocationSummary.provider">provider</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="redvox.tests.me_test_big.SensorSummary" href="#redvox.tests.me_test_big.SensorSummary">SensorSummary</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.SensorSummary.n_nan_samples" href="#redvox.tests.me_test_big.SensorSummary.n_nan_samples">n_nan_samples</a></code></li>
<li><code><a title="redvox.tests.me_test_big.SensorSummary.n_samples" href="#redvox.tests.me_test_big.SensorSummary.n_samples">n_samples</a></code></li>
<li><code><a title="redvox.tests.me_test_big.SensorSummary.sample_rate" href="#redvox.tests.me_test_big.SensorSummary.sample_rate">sample_rate</a></code></li>
<li><code><a title="redvox.tests.me_test_big.SensorSummary.sensor_name" href="#redvox.tests.me_test_big.SensorSummary.sensor_name">sensor_name</a></code></li>
<li><code><a title="redvox.tests.me_test_big.SensorSummary.sensor_type" href="#redvox.tests.me_test_big.SensorSummary.sensor_type">sensor_type</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="redvox.tests.me_test_big.StationSummary" href="#redvox.tests.me_test_big.StationSummary">StationSummary</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.StationSummary.best_latency" href="#redvox.tests.me_test_big.StationSummary.best_latency">best_latency</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.best_offset" href="#redvox.tests.me_test_big.StationSummary.best_offset">best_offset</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.client_version" href="#redvox.tests.me_test_big.StationSummary.client_version">client_version</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.gaps" href="#redvox.tests.me_test_big.StationSummary.gaps">gaps</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.health" href="#redvox.tests.me_test_big.StationSummary.health">health</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.location" href="#redvox.tests.me_test_big.StationSummary.location">location</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.os" href="#redvox.tests.me_test_big.StationSummary.os">os</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.os_version" href="#redvox.tests.me_test_big.StationSummary.os_version">os_version</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.percent_data_available" href="#redvox.tests.me_test_big.StationSummary.percent_data_available">percent_data_available</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.sensors" href="#redvox.tests.me_test_big.StationSummary.sensors">sensors</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.station_id" href="#redvox.tests.me_test_big.StationSummary.station_id">station_id</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.station_uuid" href="#redvox.tests.me_test_big.StationSummary.station_uuid">station_uuid</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.time_corrected" href="#redvox.tests.me_test_big.StationSummary.time_corrected">time_corrected</a></code></li>
<li><code><a title="redvox.tests.me_test_big.StationSummary.time_range" href="#redvox.tests.me_test_big.StationSummary.time_range">time_range</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="redvox.tests.me_test_big.TimeRange" href="#redvox.tests.me_test_big.TimeRange">TimeRange</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.me_test_big.TimeRange.diff" href="#redvox.tests.me_test_big.TimeRange.diff">diff</a></code></li>
<li><code><a title="redvox.tests.me_test_big.TimeRange.end_ts_us" href="#redvox.tests.me_test_big.TimeRange.end_ts_us">end_ts_us</a></code></li>
<li><code><a title="redvox.tests.me_test_big.TimeRange.start_ts_us" href="#redvox.tests.me_test_big.TimeRange.start_ts_us">start_ts_us</a></code></li>
<li><code><a title="redvox.tests.me_test_big.TimeRange.timedelta" href="#redvox.tests.me_test_big.TimeRange.timedelta">timedelta</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>